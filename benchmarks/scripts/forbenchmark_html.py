# ForBenchmark
# Seyed Ali Ghasemi

import pandas as pd
import matplotlib.pyplot as plt
import matplotlib as mpl
import os
import sys

def generate_html(file_path, benchmark_data, title):
    """
    Generate a styled HTML table with sorting functionality using DataTables.

    Args:
        benchmark_data (DataFrame): Benchmark data in a Pandas DataFrame
        file_path (str): Path for the HTML file to be generated
        title (str): Title for the HTML page

    Returns:
        None
    """
    # Convert DataFrame to HTML table with enhanced styling and DataTables functionality
    html_table = benchmark_data.to_html(
        index=False,
        classes='table table-striped table-hover',  # Adding Bootstrap classes for styling
        justify='left',  # Justify table data to the left
        border=1,  # Set border to 0 for cleaner appearance
        table_id='benchmark_table'  # Assign an ID for the table
    )

    # Create HTML content with DataTables initialization, dynamic title, and footer
    html_content = f'''
    <!DOCTYPE html>
    <html>
    <head>
        <title>{title}</title>
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">
        <style>
            /* Add custom CSS styles for the table */
            /* Retain hover effect */
            table.dataTable.table-hover tbody tr:hover {{
                background-color: #e2e2e2;
            }}
            /* Footer styles */
            footer {{
                position: fixed;
                bottom: 0;
                width: 100%;
                background-color: #f5f5f5;
                padding: 10px 0;
                text-align: center;
            }}
        </style>
    </head>
    <body>
        <h2>{title}</h2>
        {html_table}

        <!-- Include jQuery and DataTables JavaScript libraries -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>

        <script>
            // Initialize DataTable with sorting functionality
            $(document).ready(function() {{
                $('#benchmark_table').DataTable();
            }});
        </script>

        <!-- Footer -->
        <footer>
            <p>Generated by <a href=""https://github.com/gha3mi/forbenchmark"" target="_blank">ForBenchmark</a></p>
        </footer>
    </body>
    </html>
    '''

    output_filename = f"{os.path.splitext(file_path)[0]}.html"

    # Write the HTML content to the specified file
    with open(output_filename, 'w') as file:
        file.write(html_content)
